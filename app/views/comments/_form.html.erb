<% method, button_label = 
       (comment.persisted? ? ["PUT", "Update Comment"] 
                           : ["POST", "Create Comment"]) %>

<form action="<%= action %>" method="POST">
	<input type="hidden"
	       name="_method"
	       value="<%= method %>">

	<input type="hidden"
	       name="authenticity_token"
	       value="<%= form_authenticity_token %>">

	<p>
	<label for="comment_body">Body</label>
	<textarea id="comment_body"
	          name="comment[body]"><%= comment.body %></textarea>
	</p>

	<input type="submit" value="<%= button_label %>">
</form>